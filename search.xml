[{"title":"TEST DOCKER.CLOUD(TUTUM) CD AUTO TOOL","url":"https://christhai.github.io/2016/07/07/TEST-DOCKER-CLOUD-TUTUM-CD-AUTO-TOOL/","content":"<h3 id=\"Step-one-link-to-AMAZON-EC2\"><a href=\"#Step-one-link-to-AMAZON-EC2\" class=\"headerlink\" title=\"Step one, link to AMAZON EC2\"></a>Step one, link to AMAZON EC2</h3><p>Go to “cloud setting”, - “cloud providers”</p>\n<p>Create a IAM user “docker” and attach policy  “access to EC2”</p>\n<h3 id=\"Step-two-create-a-Node-clusters-and-nodes\"><a href=\"#Step-two-create-a-Node-clusters-and-nodes\" class=\"headerlink\" title=\"Step two, create a Node clusters and nodes\"></a>Step two, create a Node clusters and nodes</h3><h3 id=\"Step-three-build-services-from-Repository\"><a href=\"#Step-three-build-services-from-Repository\" class=\"headerlink\" title=\"Step three, build services from Repository\"></a>Step three, build services from Repository</h3><a id=\"more\"></a>\n<h3 id=\"Set-trigger\"><a href=\"#Set-trigger\" class=\"headerlink\" title=\"Set trigger\"></a>Set trigger</h3><h3 id=\"Finally-browser-endpoints-see-webApp\"><a href=\"#Finally-browser-endpoints-see-webApp\" class=\"headerlink\" title=\"Finally, browser endpoints see  webApp\"></a>Finally, browser endpoints see  webApp</h3><p>总结：</p>\n<p>和dockerhub捆绑挺好的，给单个容器比较好用  例如export server<br>但是不知道能不能push到 EB上，或者用stack功能  类似docker compose<br>因为ec2只是单个instance,没有其他组件Load balance 之类的  </p>\n"},{"title":"Using EB CLI","url":"https://christhai.github.io/2016/07/04/Using-EB-CLI/","content":"<p>during the deploy, I found it is good to use eb cli, then do not need to compress the zip and upload the application version. Another  bad thing is using this way cause to remove the instance and build again every time, take more time.</p>\n<p>Good to use eb cli ,just update the new change without build new instance.</p>\n<p>but in the beginning, i have much issue with using eb cli.</p>\n<a id=\"more\"></a>\n<p>Then I create a new repo and do again</p>\n<p>checkout a new branch and git commit, then</p>\n<p>eb init</p>\n<p>790  git clone <a href=\"https://github.com/highcharts/www.highcharts.com.git\" target=\"_blank\" rel=\"external\">https://github.com/highcharts/www.highcharts.com.git</a></p>\n<p> 791  ls</p>\n<p> 792  cd www.highcharts.com/</p>\n<p> 793  git branch</p>\n<p> 794  git checkout  eb_deploy</p>\n<p> 795  ls</p>\n<p> 796  ls</p>\n<p> 797  git branch</p>\n<p> 798  git add –all</p>\n<p> 799  git commit -m “change folder structure”</p>\n<p> 800  git push origin eb_deploy</p>\n<p> 801  ls</p>\n<p> 802  cat Dockerrun.aws.json</p>\n<p> 803  history</p>\n<p> 804  eb status</p>\n<p> 805  eb status haiwTest-env</p>\n<p> 806  eb deploy haiwTest-env</p>\n<p> 810  ls</p>\n<p> 811  git status</p>\n<p> 812  eb logs</p>\n<p> 814  eb logs haiwTest-env</p>\n<p> 816  eb use haiwTest-env</p>\n<p> 819  eb init        都失败了  直到重新init 了一下</p>\n<p> 820  eb deploy    才可以deploy</p>\n<p> 821  eb deploy</p>\n<p>eb deploy 的流程</p>\n<p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP_cakePHP.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP_cakePHP.html</a></p>\n<h1 id=\"Using-Git-with-the-EB-CLI\"><a href=\"#Using-Git-with-the-EB-CLI\" class=\"headerlink\" title=\"Using Git with the EB CLI\"></a><strong>Using Git with the EB CLI</strong></h1><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-cli-git.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb3-cli-git.html</a></p>\n<p><a href=\"http://docs.aws.amazon.com/zh_cn/elasticbeanstalk/latest/dg/eb-cli3-getting-started.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/zh_cn/elasticbeanstalk/latest/dg/eb-cli3-getting-started.html</a></p>\n<h1 id=\"Configuring-the-AWS-Command-Line-Interface\"><a href=\"#Configuring-the-AWS-Command-Line-Interface\" class=\"headerlink\" title=\"Configuring the AWS Command Line Interface\"></a><strong>Configuring the AWS Command Line Interface</strong></h1><p><a href=\"http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/cli/latest/userguide/cli-chap-getting-started.html</a></p>\n"},{"title":"Set up website on Elastic Beanstalk using Multi Container","url":"https://christhai.github.io/2016/07/04/Set-up-website-on-Elastic-Beanstalk-using-Multi-Container/","content":"<h2 id=\"Set-up-website-on-Elastic-Beanstalk-using-Multi-Container-PHP-FPM-Nginx\"><a href=\"#Set-up-website-on-Elastic-Beanstalk-using-Multi-Container-PHP-FPM-Nginx\" class=\"headerlink\" title=\"Set up website on Elastic Beanstalk using Multi Container (PHP-FPM + Nginx)\"></a>Set up website on Elastic Beanstalk using Multi Container (PHP-FPM + Nginx)</h2><p>This guide shows you how to setup WebApp  on Elastic Beanstalk using the [PHP-FPM]and [Nginx] Docker images.</p>\n<h2 id=\"The-procedure-of-making-this-work\"><a href=\"#The-procedure-of-making-this-work\" class=\"headerlink\" title=\"The procedure of making this work\"></a>The procedure of making this work</h2><p><a href=\"#heading=h.rilr6oluuna3\">First step, covert docker compose file to Dockerrun.aws.json</a></p>\n<p><a href=\"#heading=h.txmc5fcrcsi1\">Second step, link to RDS</a></p>\n<p>—-&gt;   Think of security group, the instance  need access to RDS</p>\n<p>—-&gt;   Connecting MYSQL RDS needs php-mysql inside docker</p>\n<p>—-&gt;   Upload prebuild or private docker image (PHP with php-mysql) to ECR</p>\n<hr>\n<a id=\"more\"></a>\n<h3 id=\"First-step-covert-docker-compose-file-to-Dockerrun-aws-json\"><a href=\"#First-step-covert-docker-compose-file-to-Dockerrun-aws-json\" class=\"headerlink\" title=\"First step, covert docker compose file to Dockerrun.aws.json\"></a>First step, covert docker compose file to Dockerrun.aws.json</h3><p>Follow this tutorial  <a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html</a></p>\n<p><strong>Topics</strong></p>\n<ul>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_role\" target=\"_blank\" rel=\"external\">Configure a Container Instance IAM Role</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_config\" target=\"_blank\" rel=\"external\">Define Docker Containers</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_code\" target=\"_blank\" rel=\"external\">Add Content</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_deploy\" target=\"_blank\" rel=\"external\">Deploy to Elastic Beanstalk</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_connect\" target=\"_blank\" rel=\"external\">Connect to a Container Instance</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create_deploy_docker_ecstutorial_connect_inspect\" target=\"_blank\" rel=\"external\">Inspect the Amazon ECS Container Agent</a></p>\n</li>\n</ul>\n<p>PS: you can login to the EC2 instance which host docker containers and  the WebAPP could be found on /var/app/current:</p>\n<figure class=\"highlight stata\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[ec2-user@ip-10-0-0-117 ~]$ <span class=\"keyword\">ls</span> /<span class=\"keyword\">var</span>/<span class=\"keyword\">app</span>/current</span><br><span class=\"line\">Dockerrun.aws.json  php-<span class=\"keyword\">app</span>  proxy</span><br></pre></td></tr></table></figure>\n<p>Until now, the webapp is running without the mysql connection</p>\n<h3 id=\"Second-step-link-to-RDS-Mysql\"><a href=\"#Second-step-link-to-RDS-Mysql\" class=\"headerlink\" title=\"Second step, link to RDS Mysql\"></a>Second step, link to RDS Mysql</h3><h4 id=\"1-Think-of-security-group-the-instance-need-access-to-RDS\"><a href=\"#1-Think-of-security-group-the-instance-need-access-to-RDS\" class=\"headerlink\" title=\"1. Think of security group, the instance  need access to RDS\"></a>1. Think of security group, the instance  need access to RDS</h4><p><a href=\"http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_WorkingWithSecurityGroups.html#USER_WorkingWithSecurityGroups.AuthorizingEC2\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_WorkingWithSecurityGroups.html#USER_WorkingWithSecurityGroups.AuthorizingEC2</a></p>\n<p>Login into EC2 instance and see whether can be able to visit RDS</p>\n<p>troubleshooting</p>\n<p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/java-rds.html#create_deploy_Java.rds.troubleshooting\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/java-rds.html#create_deploy_Java.rds.troubleshooting</a></p>\n<p>More reference:</p>\n<p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP.rds.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_PHP.rds.html</a></p>\n<p><a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.RDS.html\" target=\"_blank\" rel=\"external\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.RDS.html</a></p>\n<p><a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.RDS.html#rds-external-ec2classic\" target=\"_blank\" rel=\"external\">https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/AWSHowTo.RDS.html#rds-external-ec2classic</a></p>\n<p>So far, EC2 instance can access to RDS mysql however Webapp still not work.</p>\n<p>We need mysql client to connect BY USING php-mysql</p>\n<h4 id=\"2-Connecting-MYSQL-RDS-needs-php-mysql-inside-docker\"><a href=\"#2-Connecting-MYSQL-RDS-needs-php-mysql-inside-docker\" class=\"headerlink\" title=\"2. Connecting MYSQL RDS needs php-mysql inside docker\"></a>2. Connecting MYSQL RDS needs php-mysql inside docker</h4><p>Firstly, I add one more database container and test. It was not working.<br>Then I realized I do not need a separate DB container actually. The thing I need is the prebuild or private docker image (PHP with php-mysql)**</p>\n<p>Here is a good doc i followed that solved this:</p>\n<p><a href=\"http://www.michaelgallego.fr/blog/2015/07/18/using-elastic-beanstalk-multi-container-with-php/\" target=\"_blank\" rel=\"external\">http://www.michaelgallego.fr/blog/2015/07/18/using-elastic-beanstalk-multi-container-with-php/</a></p>\n<p>I wanna use docker private images (haiw/php-fpm) in Dockerrun.aws.json, but after testing, I found that it is not allowed and it cause deploy issue.  </p>\n<p>Need to figure out a alternative way.</p>\n<h4 id=\"3-Upload-prebuild-or-private-docker-image-PHP-with-php-mysql-to-ECR\"><a href=\"#3-Upload-prebuild-or-private-docker-image-PHP-with-php-mysql-to-ECR\" class=\"headerlink\" title=\"3. Upload prebuild or private docker image (PHP with php-mysql) to ECR\"></a>3. Upload prebuild or private docker image (PHP with php-mysql) to ECR</h4><p>Toturial:<br><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker.html#docker-images-private\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker.html#docker-images-private</a></p>\n<p>Here is what I did,  </p>\n<p><a href=\"http://aws.amazon.com/ecr/getting-started/\" target=\"_blank\" rel=\"external\">http://aws.amazon.com/ecr/getting-started/</a></p>\n<p>upload docker image to Amazon ECR to use</p>\n<p><img src=\"images/201607/image_6.png\" alt=\"image alt text\"></p>\n<p><a href=\"http://docs.aws.amazon.com/AmazonECR/latest/userguide/get-set-up-for-amazon-ecr.html\" target=\"_blank\" rel=\"external\">http://docs.aws.amazon.com/AmazonECR/latest/userguide/get-set-up-for-amazon-ecr.html</a></p>\n<p>Commands review:</p>\n<figure class=\"highlight basic\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">543 </span> aws ecr <span class=\"keyword\">get</span>-login --region us-east-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">544 </span> aws configure</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">545 </span> aws ecr <span class=\"keyword\">get</span>-login --region us-east-<span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">546 </span> ls</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">547 </span> docker login -u AWS -p CiBwm0YaISJ</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">566 </span> docker build -t haiw/php-fpm:latest .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">567 </span> docker images</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">568 </span> docker tag  haiw/php-fpm:latest <span class=\"number\">429834746942.d</span>kr.ecr.us-east-<span class=\"number\">1.</span>amazonaws.<span class=\"keyword\">com</span>/php-fpm:latest</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"symbol\">569 </span> docker push <span class=\"number\">429834746942.d</span>kr.ecr.us-east-<span class=\"number\">1.</span>amazonaws.<span class=\"keyword\">com</span>/php-fpm:latest</span><br></pre></td></tr></table></figure>\n<p>EB APP use docker image from ECR, it also requires permission</p>\n<h4 id=\"4-Configure-Container-Instance-IAM-Role\"><a href=\"#4-Configure-Container-Instance-IAM-Role\" class=\"headerlink\" title=\"4.Configure Container Instance IAM Role\"></a>4.Configure Container Instance IAM Role</h4><p>Instances in a multicontainer Docker environment must have an instance profile with permission to access Amazon EC2 Container Service (Amazon ECS), the service that Elastic Beanstalk uses to coordinate container deployments. To grant Amazon ECS access to the instances in your environment, you must create an IAM container instance policy and attach the policy to the correct IAM role.</p>\n<p><strong>Topics</strong></p>\n<ul>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create-policy\" target=\"_blank\" rel=\"external\">Create the Policy</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#create-role\" target=\"_blank\" rel=\"external\">Create the Role (if needed)</a></p>\n</li>\n<li><p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create_deploy_docker_ecstutorial.html#attach-policy\" target=\"_blank\" rel=\"external\">Attach the Policy to the Role</a></p>\n</li>\n</ul>\n<p>Conclude:<br>EC2 instance needs security group   and   IAM  role   </p>\n<p><strong>让rds给instance  权限 从rds 的 security groups中去授权</strong></p>\n<p><strong>而instance访问 ecs 或者 ecr 在 IAM中设置 </strong></p>\n<p>给 <strong>aws-elasticbeanstalk-ec2-role</strong> 授予权限</p>\n"},{"title":"Create a new php-fpm docker image on AWS ECR","url":"https://christhai.github.io/2016/06/29/Create-a-new-php-fpm-docker-image-on-AWS-ECR/","content":"<h2 id=\"Create-a-new-php-fpm-docker-image-on-AWS-ECR-Used-for-docker-muti-container-on-EB\"><a href=\"#Create-a-new-php-fpm-docker-image-on-AWS-ECR-Used-for-docker-muti-container-on-EB\" class=\"headerlink\" title=\"Create a new php-fpm docker image on AWS ECR Used for docker muti-container on EB\"></a>Create a new php-fpm docker image on AWS ECR Used for docker muti-container on EB</h2><p>  480  aws ecr get-login –region us-east-1<br>  481  docker login -u AWS -p<br>  482  docker images<br>  483  docker build -t christhai/php-app .<br>  491  docker tag christhai/php-app:latest 42xxxxxxxx2.dkr.ecr.us-east-1.amazonaws.com/christhai:php-app<br>  492  docker images<br>  493  docker push 42xxxxxxxx2.dkr.ecr.us-east-1.amazonaws.com/christhai:php-app</p>\n  <!-- ![](/images/favicon.png) -->\n"},{"title":"Git Skills","url":"https://christhai.github.io/2016/06/29/Git-Skills/","content":"<h1 id=\"How-do-I-resolve-git-saying-“Commit-your-changes-or-stash-them-before-you-can-merge”\"><a href=\"#How-do-I-resolve-git-saying-“Commit-your-changes-or-stash-them-before-you-can-merge”\" class=\"headerlink\" title=\"How do I resolve git saying “Commit your changes or stash them before you can merge”?\"></a><a href=\"http://stackoverflow.com/questions/15745045/how-do-i-resolve-git-saying-commit-your-changes-or-stash-them-before-you-can-me\" target=\"_blank\" rel=\"external\">How do I resolve git saying “Commit your changes or stash them before you can merge”?</a></h1><p>you can’t merge with local modifications. Git protects you from losing potentially important changes. You have three options. One is to commit the change using</p>\n<p>git commit -m “My message”</p>\n<p>The second is to stash it. stashing acts as a stack, where you can push changes, and you pop them in reverse order.</p>\n<p>To stash type:</p>\n<p>git stash</p>\n<p>Do the merge, and than pull the stash:</p>\n<p>git stash pop</p>\n<a id=\"more\"></a>\n<p>The third options is to discard the local changes using git reset –hard</p>\n<h1 id=\"How-to-view-file-diff-in-git-before-commit\"><a href=\"#How-to-view-file-diff-in-git-before-commit\" class=\"headerlink\" title=\"How to view file diff in git before commit\"></a><a href=\"http://stackoverflow.com/questions/10039747/how-to-view-file-diff-in-git-before-commit\" target=\"_blank\" rel=\"external\">How to view file diff in git before commit</a></h1><p>If you want to see what you haven’t git added yet:</p>\n<p>git diff – myfile.txt</p>\n<p>or if you want to see already-added changes</p>\n<p>git diff –cached – myfile.txt</p>\n<p>or</p>\n<p>git diff HEAD file</p>\n<p>will show you changes you added to your worktree from the last commit. All the changes (staged or not staged) will be shown.</p>\n<h1 id=\"Showing-which-files-have-changed-between-two-revisions\"><a href=\"#Showing-which-files-have-changed-between-two-revisions\" class=\"headerlink\" title=\"Showing which files have changed between two revisions\"></a><a href=\"http://stackoverflow.com/questions/822811/showing-which-files-have-changed-between-two-revisions\" target=\"_blank\" rel=\"external\">Showing which files have changed between two revisions</a></h1><p>Try</p>\n<p>$ git diff –name-status master..branchName</p>\n<h1 id=\"How-can-I-compare-files-from-two-different-branches\"><a href=\"#How-can-I-compare-files-from-two-different-branches\" class=\"headerlink\" title=\"How can I compare files from two different branches?\"></a><a href=\"http://stackoverflow.com/questions/4099742/how-can-i-compare-files-from-two-different-branches\" target=\"_blank\" rel=\"external\">How can I compare files from two different branches?</a></h1><p>git diff can show you the difference between two commits:</p>\n<p>git diff mybranch master – myfile.cs</p>\n<h1 id=\"Differences-for-a-certain-folder-between-remote-git-branches\"><a href=\"#Differences-for-a-certain-folder-between-remote-git-branches\" class=\"headerlink\" title=\"Differences for a certain folder between remote git branches\"></a><a href=\"http://stackoverflow.com/questions/12123633/differences-for-a-certain-folder-between-git-branches\" target=\"_blank\" rel=\"external\">Differences for a certain folder between remote git branches</a></h1><p>git diff master..origin/yourbranch path/to/folder</p>\n<h1 id=\"How-do-you-merge-selective-files-with-git-merge\"><a href=\"#How-do-you-merge-selective-files-with-git-merge\" class=\"headerlink\" title=\"How do you merge selective files with git-merge?\"></a><a href=\"http://stackoverflow.com/questions/449541/how-do-you-merge-selective-files-with-git-merge\" target=\"_blank\" rel=\"external\">How do you merge selective files with git-merge?</a></h1><p><a href=\"http://stackoverflow.com/questions/449541/how-do-you-merge-selective-files-with-git-merge\" target=\"_blank\" rel=\"external\">http://stackoverflow.com/questions/449541/how-do-you-merge-selective-files-with-git-merge</a></p>\n<p>use git add –patch or possibly git add –interactive which allows you to add just parts of a hun</p>\n<p><a href=\"https://www.haykranen.nl/2011/07/18/git-merging-specific-files-from-another-branch/\" target=\"_blank\" rel=\"external\">https://www.haykranen.nl/2011/07/18/git-merging-specific-files-from-another-branch/</a></p>\n<h1 id=\"Git-Delete-a-branch-local-or-remote\"><a href=\"#Git-Delete-a-branch-local-or-remote\" class=\"headerlink\" title=\"Git: Delete a branch (local or remote)\"></a><strong>Git: Delete a branch (local or remote)</strong></h1><p>To delete a local branch</p>\n<p>git branch -d the_local_branch</p>\n<p>To remove a remote branch (if you know what you are doing!)</p>\n<p>git push origin :the_remote_branch</p>\n<h1 id=\"Git-HowTo-revert-a-commit-already-pushed-to-a-remote-repository\"><a href=\"#Git-HowTo-revert-a-commit-already-pushed-to-a-remote-repository\" class=\"headerlink\" title=\"Git HowTo: revert a commit already pushed to a remote repository\"></a><strong>Git HowTo: revert a commit already pushed to a remote repository</strong></h1><h2 id=\"Case-1-Delete-the-last-commit\"><a href=\"#Case-1-Delete-the-last-commit\" class=\"headerlink\" title=\"Case 1: Delete the last commit\"></a><strong>Case 1: Delete the last commit</strong></h2><p>Deleting the last commit is the easiest case. Let’s say we have a remote <em>mathnet</em>with branch <em>master</em> that currently points to commit <em>dd61ab32</em>. We want to remove the top commit. Translated to git terminology, we want to force the <em>master</em> branch of the <em>mathnet</em> remote repository to the parent of <em>dd61ab32</em>:</p>\n<table><br>  <tr><br>    <td>1:<br></td><br>    <td>$ git push mathnet +dd61ab32^:master<br></td><br>  </tr><br></table>\n\n\n<p>Where git interprets x^ as the parent of x and + as a forced non-fastforward push. If you have the master branch checked out locally, you can also do it in two simpler steps: First reset the branch to the parent of the current commit, then force-push it to the remote.</p>\n<table><br>  <tr><br>    <td>1:<br>2:<br></td><br>    <td>$ git reset HEAD^ –hard<br>$ git push mathnet -f</td><br>  </tr><br></table>\n\n\n<h3 id=\"Undo-a-commit-and-redo\"><a href=\"#Undo-a-commit-and-redo\" class=\"headerlink\" title=\"Undo a commit and redo\"></a><strong>Undo a commit and redo</strong></h3><p>$ git commit -m “Something terribly misguided” (1)</p>\n<p>$ git reset –soft HEAD~ (2)</p>\n<h1 id=\"git-ahead-behind-info-between-master-and-branch\"><a href=\"#git-ahead-behind-info-between-master-and-branch\" class=\"headerlink\" title=\"git ahead/behind info between master and branch?\"></a><a href=\"http://stackoverflow.com/questions/20433867/git-ahead-behind-info-between-master-and-branch\" target=\"_blank\" rel=\"external\">git ahead/behind info between master and branch?</a></h1><p>First of all to see how many revisions you are behind locally, you should do a git fetch to make sure you have the latest info from your remote.</p>\n<p>The default output of git status tells you how many revisions you are ahead or behind, but usually I find this too verbose:</p>\n<p>$ git status # On branch master # Your branch and ‘origin/master’ have diverged, # and have 2 and 1 different commit each, respectively. # nothing to commit (working directory clean)</p>\n<p>I prefer git status -sb:</p>\n<p>$ git status -sb ## master…origin/master [ahead 2, behind 1]</p>\n<p>In fact I alias this to simply git s, and this is the main command I use for checking status.</p>\n<p>To see the diff in the “ahead revisions” of master, I can exclude the “behind revisions” from origin/master:</p>\n<p>git diff master..origin/master^</p>\n<p>To see the diff in the “behind revisions” of origin/master, I can exclude the “ahead revisions” from master:</p>\n<p>git diff origin/master..master^^</p>\n<p>If there are 5 revisions ahead or behind it might be easier to write like this:</p>\n<p>git diff master..origin/master~5 git diff origin/master..master~5</p>\n<h1 id=\"Git-Branching-Basic-Branching-and-Merging\"><a href=\"#Git-Branching-Basic-Branching-and-Merging\" class=\"headerlink\" title=\"Git Branching - Basic Branching and Merging\"></a>Git Branching - Basic Branching and Merging</h1><p><a href=\"https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging\" target=\"_blank\" rel=\"external\">https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging</a></p>\n<h1 id=\"Get-changes-from-master-into-branch-in-git\"><a href=\"#Get-changes-from-master-into-branch-in-git\" class=\"headerlink\" title=\"Get changes from master into branch in git\"></a><a href=\"http://stackoverflow.com/questions/5340724/get-changes-from-master-into-branch-in-git\" target=\"_blank\" rel=\"external\">Get changes from master into branch in git</a></h1><p>Checkout the aq branch, then rebase from master.</p>\n<p>git checkout aq</p>\n<p>git rebase master</p>\n<h1 id=\"Git-Branching-Rebasing\"><a href=\"#Git-Branching-Rebasing\" class=\"headerlink\" title=\"Git Branching - Rebasing\"></a>Git Branching - Rebasing</h1><p><a href=\"https://git-scm.com/book/en/v2/Git-Branching-Rebasing\" target=\"_blank\" rel=\"external\">https://git-scm.com/book/en/v2/Git-Branching-Rebasing</a></p>\n"},{"title":"Hello World","url":"https://christhai.github.io/2016/06/27/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><a id=\"more\"></a>\n<h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n"}]